<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Wed Apr 04 10:11:55 BST 2018 -->
<title>MetricalLpcfgHierarchyModelState</title>
<meta name="date" content="2018-04-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MetricalLpcfgHierarchyModelState";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MetricalLpcfgHierarchyModelState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHead.html" title="class in metalign.hierarchy.lpcfg"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch.html" title="enum in metalign.hierarchy.lpcfg"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" target="_top">Frames</a></li>
<li><a href="MetricalLpcfgHierarchyModelState.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">metalign.hierarchy.lpcfg</div>
<h2 title="Class MetricalLpcfgHierarchyModelState" class="title">Class MetricalLpcfgHierarchyModelState</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../metalign/generic/MidiModelState.html" title="class in metalign.generic">metalign.generic.MidiModelState</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">metalign.hierarchy.HierarchyModelState</a></li>
<li>
<ul class="inheritance">
<li>metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Comparable&lt;<a href="../../../metalign/generic/MidiModelState.html" title="class in metalign.generic">MidiModelState</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MetricalLpcfgHierarchyModelState</span>
extends <a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></pre>
<div class="block">A <code>GrammarHierarchyModelState</code> is used to generate hierarchy hypotheses
 using a grammar.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Andrew McLeod - 29 February, 2016</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch.html" title="enum in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch</a></span></code>
<div class="block">A <code>MetricalLpcfgMatch</code> is an enum indicating which type of match a
 <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg"><code>MetricalLpcfgHierarchyModelState</code></a> has matched.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#anacrusisLength">anacrusisLength</a></span></code>
<div class="block">The length of the anacrusis in this state, measured in quantums.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#beatMatches">beatMatches</a></span></code>
<div class="block">The number of times a beat match has been found.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#grammar">grammar</a></span></code>
<div class="block">The grammar object we will use for probabilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;java.lang.Boolean&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#hasBegun">hasBegun</a></span></code>
<div class="block">A List of whether each given voice has begun yet.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#localGrammar">localGrammar</a></span></code>
<div class="block">The local grammar for this hierarchy model state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#logProbability">logProbability</a></span></code>
<div class="block">The log probability of this hypothesis.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../metalign/hierarchy/Measure.html" title="class in metalign.hierarchy">Measure</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#measure">measure</a></span></code>
<div class="block">The measure type we are looking for.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#measureNum">measureNum</a></span></code>
<div class="block">The measure number of the next subbeat to be shifted onto the stack.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#measuresUsed">measuresUsed</a></span></code>
<div class="block">The number of measures we have used in this model.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#nextMeasureIndex">nextMeasureIndex</a></span></code>
<div class="block">The index of the first beat of the next measure.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#notesToCheck">notesToCheck</a></span></code>
<div class="block">Notes which we have yet to check for beat and sub beat matches.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#notesToCheckBeats">notesToCheckBeats</a></span></code>
<div class="block">A List of a Queue per voice of notes to check for beat matching.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#subBeatLength">subBeatLength</a></span></code>
<div class="block">The length of the terminals which we are looking for.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#subBeatMatches">subBeatMatches</a></span></code>
<div class="block">The number of times a sub beat match has been found.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.List&lt;java.util.List&lt;java.util.Map&lt;java.util.List&lt;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgQuantum.html" title="enum in metalign.hierarchy.lpcfg">MetricalLpcfgQuantum</a>&gt;,java.lang.Double&gt;&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#treeMap">treeMap</a></span></code>
<div class="block">Object to save tree log probabilities so as not to regenerate every time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#unfinishedNotes">unfinishedNotes</a></span></code>
<div class="block">A List of any notes which have not yet been completely added to a Tree, divided by voice.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#wrongMatches">wrongMatches</a></span></code>
<div class="block">The number of times a mismatch has been found.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.metalign.hierarchy.HierarchyModelState">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;metalign.hierarchy.<a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></h3>
<code><a href="../../../metalign/hierarchy/HierarchyModelState.html#beatState">beatState</a>, <a href="../../../metalign/hierarchy/HierarchyModelState.html#voiceState">voiceState</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#MetricalLpcfgHierarchyModelState-metalign.hierarchy.lpcfg.MetricalLpcfg-">MetricalLpcfgHierarchyModelState</a></span>(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a>&nbsp;grammar)</code>
<div class="block">Create a new state based on the given grammar.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#MetricalLpcfgHierarchyModelState-metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState-">MetricalLpcfgHierarchyModelState</a></span>(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&nbsp;state)</code>
<div class="block">Create a new state which is a deep copy of the given one (when necessary).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#MetricalLpcfgHierarchyModelState-metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState-metalign.hierarchy.lpcfg.MetricalLpcfg-metalign.hierarchy.Measure-int-int-">MetricalLpcfgHierarchyModelState</a></span>(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&nbsp;state,
                                <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a>&nbsp;grammar,
                                <a href="../../../metalign/hierarchy/Measure.html" title="class in metalign.hierarchy">Measure</a>&nbsp;measure,
                                int&nbsp;terminalLength,
                                int&nbsp;anacrusisLength)</code>
<div class="block">Create a new state based on the given grammar, measure, and terminal length, and as a partial
 deep copy of the given state.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#addMatch-metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch-">addMatch</a></span>(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch.html" title="enum in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch</a>&nbsp;matchType)</code>
<div class="block">Add the given matchType to this model.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#addNewVoiceIndex-int-">addNewVoiceIndex</a></span>(int&nbsp;index)</code>
<div class="block">Add a new voice at the given index into our tracking lists.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#addNewVoices-java.util.List-">addNewVoices</a></span>(java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&nbsp;notes)</code>
<div class="block">Add new voices into our tracking lists.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#checkConglomerateBeatMatch-java.util.List-">checkConglomerateBeatMatch</a></span>(java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&nbsp;notes)</code>
<div class="block">Check for a conglomerate beat match.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.TreeSet&lt;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#close--">close</a></span>()</code>
<div class="block">Return a TreeSet of all of the possible MidiModelStates which we could tansition into
 when the input closes.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#compareTo-metalign.generic.MidiModelState-">compareTo</a></span>(<a href="../../../metalign/generic/MidiModelState.html" title="class in metalign.generic">MidiModelState</a>&nbsp;other)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#compareToNoRecurse-metalign.generic.MidiModelState-">compareToNoRecurse</a></span>(<a href="../../../metalign/generic/MidiModelState.html" title="class in metalign.generic">MidiModelState</a>&nbsp;other)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#deepCopy--">deepCopy</a></span>()</code>
<div class="block">Create a deep copy of this HierarchyModelState.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#getAllFirstStepBranches--">getAllFirstStepBranches</a></span>()</code>
<div class="block">Get a List of all of the first step branches we could make out of this state.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#getAnacrusis--">getAnacrusis</a></span>()</code>
<div class="block">Get the length of the anacrusis, measured in sub beats.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#getBarCount--">getBarCount</a></span>()</code>
<div class="block">Get the number of full bars we have gone through so far.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#getLocalGrammar--">getLocalGrammar</a></span>()</code>
<div class="block">Get the local grammar of this model.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../metalign/hierarchy/Measure.html" title="class in metalign.hierarchy">Measure</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#getMetricalMeasure--">getMetricalMeasure</a></span>()</code>
<div class="block">Gets the Measure which is contained by this state currently.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#getScore--">getScore</a></span>()</code>
<div class="block">Get the score of this MidiModelState.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#getSubBeatLength--">getSubBeatLength</a></span>()</code>
<div class="block">Get the number of tatums per sub beat.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.TreeSet&lt;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#handleIncoming-java.util.List-">handleIncoming</a></span>(java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&nbsp;notes)</code>
<div class="block">Return a TreeSet of all of the possible MidiModelStates which we could tansition into
 given the List of MidiNotes.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#isDuplicateOf-metalign.hierarchy.HierarchyModelState-">isDuplicateOf</a></span>(<a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a>&nbsp;state)</code>
<div class="block">Decide whether the given state is a duplicate of this one.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#isFullyMatched--">isFullyMatched</a></span>()</code>
<div class="block">Return whether this model has been fully matched yet.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#isWrong--">isWrong</a></span>()</code>
<div class="block">Return whether this model has been designated as wrong yet.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#matches-metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch-">matches</a></span>(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch.html" title="enum in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch</a>&nbsp;matchType)</code>
<div class="block">Check if this model matches the given match type.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#parseStep--">parseStep</a></span>()</code>
<div class="block">Perform a single parse step.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#removeFinishedNotes--">removeFinishedNotes</a></span>()</code>
<div class="block">Remove any notes which are entirely finished from <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#unfinishedNotes"><code>unfinishedNotes</code></a>.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#updateMatchType--">updateMatchType</a></span>()</code>
<div class="block">Go through the <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#notesToCheck"><code>notesToCheck</code></a> Queue for any notes that have finished and update
 the match for any that have.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#updateMatchType-int-int-">updateMatchType</a></span>(int&nbsp;startTactus,
               int&nbsp;noteLengthTacti)</code>
<div class="block">Update the match for a note with the given start tactus and length.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#updateMatchType-metalign.utils.MidiNote-metalign.utils.MidiNote-">updateMatchType</a></span>(<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&nbsp;note,
               <a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&nbsp;nextNote)</code>
<div class="block">Update the match for the given note.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.metalign.hierarchy.HierarchyModelState">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;metalign.hierarchy.<a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></h3>
<code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getBeatState--">getBeatState</a>, <a href="../../../metalign/hierarchy/HierarchyModelState.html#getVoiceState--">getVoiceState</a>, <a href="../../../metalign/hierarchy/HierarchyModelState.html#setBeatState-metalign.beat.BeatTrackingModelState-">setBeatState</a>, <a href="../../../metalign/hierarchy/HierarchyModelState.html#setVoiceState-metalign.voice.VoiceSplittingModelState-">setVoiceState</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="treeMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>treeMap</h4>
<pre>public static&nbsp;java.util.List&lt;java.util.List&lt;java.util.Map&lt;java.util.List&lt;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgQuantum.html" title="enum in metalign.hierarchy.lpcfg">MetricalLpcfgQuantum</a>&gt;,java.lang.Double&gt;&gt;&gt; treeMap</pre>
<div class="block">Object to save tree log probabilities so as not to regenerate every time.</div>
</li>
</ul>
<a name="subBeatLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subBeatLength</h4>
<pre>private final&nbsp;int subBeatLength</pre>
<div class="block">The length of the terminals which we are looking for.</div>
</li>
</ul>
<a name="anacrusisLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>anacrusisLength</h4>
<pre>private final&nbsp;int anacrusisLength</pre>
<div class="block">The length of the anacrusis in this state, measured in quantums.</div>
</li>
</ul>
<a name="measure">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>measure</h4>
<pre>private final&nbsp;<a href="../../../metalign/hierarchy/Measure.html" title="class in metalign.hierarchy">Measure</a> measure</pre>
<div class="block">The measure type we are looking for.</div>
</li>
</ul>
<a name="grammar">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>grammar</h4>
<pre>private final&nbsp;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a> grammar</pre>
<div class="block">The grammar object we will use for probabilities.</div>
</li>
</ul>
<a name="localGrammar">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localGrammar</h4>
<pre>private final&nbsp;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a> localGrammar</pre>
<div class="block">The local grammar for this hierarchy model state.</div>
</li>
</ul>
<a name="logProbability">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logProbability</h4>
<pre>private&nbsp;double logProbability</pre>
<div class="block">The log probability of this hypothesis.</div>
</li>
</ul>
<a name="measureNum">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>measureNum</h4>
<pre>private&nbsp;int measureNum</pre>
<div class="block">The measure number of the next subbeat to be shifted onto the stack.</div>
</li>
</ul>
<a name="measuresUsed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>measuresUsed</h4>
<pre>private&nbsp;int measuresUsed</pre>
<div class="block">The number of measures we have used in this model.</div>
</li>
</ul>
<a name="nextMeasureIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextMeasureIndex</h4>
<pre>private&nbsp;int nextMeasureIndex</pre>
<div class="block">The index of the first beat of the next measure.</div>
</li>
</ul>
<a name="hasBegun">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasBegun</h4>
<pre>private final&nbsp;java.util.List&lt;java.lang.Boolean&gt; hasBegun</pre>
<div class="block">A List of whether each given voice has begun yet. This is used to throw out anacrusis measures.</div>
</li>
</ul>
<a name="unfinishedNotes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unfinishedNotes</h4>
<pre>private final&nbsp;java.util.List&lt;java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&gt; unfinishedNotes</pre>
<div class="block">A List of any notes which have not yet been completely added to a Tree, divided by voice.</div>
</li>
</ul>
<a name="notesToCheck">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notesToCheck</h4>
<pre>private final&nbsp;java.util.List&lt;java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&gt; notesToCheck</pre>
<div class="block">Notes which we have yet to check for beat and sub beat matches.</div>
</li>
</ul>
<a name="notesToCheckBeats">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notesToCheckBeats</h4>
<pre>private final&nbsp;java.util.List&lt;java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&gt; notesToCheckBeats</pre>
<div class="block">A List of a Queue per voice of notes to check for beat matching.</div>
</li>
</ul>
<a name="subBeatMatches">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subBeatMatches</h4>
<pre>private&nbsp;int subBeatMatches</pre>
<div class="block">The number of times a sub beat match has been found.</div>
</li>
</ul>
<a name="beatMatches">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beatMatches</h4>
<pre>private&nbsp;int beatMatches</pre>
<div class="block">The number of times a beat match has been found.</div>
</li>
</ul>
<a name="wrongMatches">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>wrongMatches</h4>
<pre>private&nbsp;int wrongMatches</pre>
<div class="block">The number of times a mismatch has been found.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MetricalLpcfgHierarchyModelState-metalign.hierarchy.lpcfg.MetricalLpcfg-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MetricalLpcfgHierarchyModelState</h4>
<pre>public&nbsp;MetricalLpcfgHierarchyModelState(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a>&nbsp;grammar)</pre>
<div class="block">Create a new state based on the given grammar. The <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#measure"><code>measure</code></a> and <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#subBeatLength"><code>subBeatLength</code></a> fields
 will be null and 0 respectively, and appropriate settings for these will be returned by the first call
 to <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#handleIncoming-java.util.List-"><code>handleIncoming(List)</code></a>. This allows all possible states to be generated by a single one without
 having to manually create each one each time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>grammar</code> - <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#grammar"><code>grammar</code></a></dd>
</dl>
</li>
</ul>
<a name="MetricalLpcfgHierarchyModelState-metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState-metalign.hierarchy.lpcfg.MetricalLpcfg-metalign.hierarchy.Measure-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MetricalLpcfgHierarchyModelState</h4>
<pre>public&nbsp;MetricalLpcfgHierarchyModelState(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&nbsp;state,
                                        <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a>&nbsp;grammar,
                                        <a href="../../../metalign/hierarchy/Measure.html" title="class in metalign.hierarchy">Measure</a>&nbsp;measure,
                                        int&nbsp;terminalLength,
                                        int&nbsp;anacrusisLength)</pre>
<div class="block">Create a new state based on the given grammar, measure, and terminal length, and as a partial
 deep copy of the given state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - The old state we want this new one to be a deep copy of.</dd>
<dd><code>grammar</code> - <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#grammar"><code>grammar</code></a></dd>
<dd><code>measure</code> - <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#measure"><code>measure</code></a></dd>
<dd><code>terminalLength</code> - <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#subBeatLength"><code>subBeatLength</code></a></dd>
<dd><code>anacrusisLength</code> - <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#anacrusisLength"><code>anacrusisLength</code></a></dd>
</dl>
</li>
</ul>
<a name="MetricalLpcfgHierarchyModelState-metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MetricalLpcfgHierarchyModelState</h4>
<pre>private&nbsp;MetricalLpcfgHierarchyModelState(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&nbsp;state)</pre>
<div class="block">Create a new state which is a deep copy of the given one (when necessary).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - The state whose deep copy we want.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addNewVoiceIndex-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNewVoiceIndex</h4>
<pre>public&nbsp;void&nbsp;addNewVoiceIndex(int&nbsp;index)</pre>
<div class="block">Add a new voice at the given index into our tracking lists. Used in case a note
 from a new voice is removed by the trill optimisation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - </dd>
</dl>
</li>
</ul>
<a name="handleIncoming-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleIncoming</h4>
<pre>public&nbsp;java.util.TreeSet&lt;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&gt;&nbsp;handleIncoming(java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&nbsp;notes)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/generic/MidiModelState.html#handleIncoming-java.util.List-">MidiModelState</a></code></span></div>
<div class="block">Return a TreeSet of all of the possible MidiModelStates which we could tansition into
 given the List of MidiNotes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#handleIncoming-java.util.List-">handleIncoming</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>notes</code> - A List of the MidiNotes on which we need to transition.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A TreeSet of MidiModelStates which we've transitioned into.</dd>
</dl>
</li>
</ul>
<a name="getAllFirstStepBranches--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllFirstStepBranches</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&gt;&nbsp;getAllFirstStepBranches()</pre>
<div class="block">Get a List of all of the first step branches we could make out of this state. That is,
 given that we currently do not have a measure, assign all possible measures and terminalLengths
 to new copies and return them in a List.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A List of all possible first step branches out of this state.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;java.util.TreeSet&lt;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&gt;&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/generic/MidiModelState.html#close--">MidiModelState</a></code></span></div>
<div class="block">Return a TreeSet of all of the possible MidiModelStates which we could tansition into
 when the input closes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A TreeSet of the MidiModelStates we've transitioned into.</dd>
</dl>
</li>
</ul>
<a name="parseStep--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseStep</h4>
<pre>private&nbsp;void&nbsp;parseStep()</pre>
<div class="block">Perform a single parse step. That is, make a tree from <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#unfinishedNotes"><code>unfinishedNotes</code></a>,
 add it and its probability to our model, and then rmove any finished notes.</div>
</li>
</ul>
<a name="removeFinishedNotes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFinishedNotes</h4>
<pre>private&nbsp;void&nbsp;removeFinishedNotes()</pre>
<div class="block">Remove any notes which are entirely finished from <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#unfinishedNotes"><code>unfinishedNotes</code></a>.</div>
</li>
</ul>
<a name="addNewVoices-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNewVoices</h4>
<pre>private&nbsp;void&nbsp;addNewVoices(java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&nbsp;notes)</pre>
<div class="block">Add new voices into our tracking lists.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>notes</code> - The new notes that were just added.</dd>
</dl>
</li>
</ul>
<a name="updateMatchType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMatchType</h4>
<pre>private&nbsp;void&nbsp;updateMatchType()</pre>
<div class="block">Go through the <a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#notesToCheck"><code>notesToCheck</code></a> Queue for any notes that have finished and update
 the match for any that have.</div>
</li>
</ul>
<a name="checkConglomerateBeatMatch-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkConglomerateBeatMatch</h4>
<pre>private&nbsp;boolean&nbsp;checkConglomerateBeatMatch(java.util.List&lt;<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&gt;&nbsp;notes)</pre>
<div class="block">Check for a conglomerate beat match. That is, a match where some number of notes add up to a beat exactly
 with no leading, trailing, or interspersed rests.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>notes</code> - The unchecked notes in the voice we want to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if we need to continue checking this voice. That is, if this model is not wrong yet, hasn't yet
 been matched at the beat level, and if we were able to check the beat beginning with the previous first note.
 False otherwise.</dd>
</dl>
</li>
</ul>
<a name="updateMatchType-metalign.utils.MidiNote-metalign.utils.MidiNote-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMatchType</h4>
<pre>private&nbsp;void&nbsp;updateMatchType(<a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&nbsp;note,
                             <a href="../../../metalign/utils/MidiNote.html" title="class in metalign.utils">MidiNote</a>&nbsp;nextNote)</pre>
<div class="block">Update the match for the given note.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>note</code> - The note we need to check for a match.</dd>
</dl>
</li>
</ul>
<a name="updateMatchType-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMatchType</h4>
<pre>private&nbsp;void&nbsp;updateMatchType(int&nbsp;startTactus,
                             int&nbsp;noteLengthTacti)</pre>
<div class="block">Update the match for a note with the given start tactus and length.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startTactus</code> - The tactus at which this note begins, normalized to where 0
 is the beginning of the full anacrusis measure, if any exists.</dd>
<dd><code>noteLengthTacti</code> - The length and tacti of the note.</dd>
</dl>
</li>
</ul>
<a name="isFullyMatched--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFullyMatched</h4>
<pre>private&nbsp;boolean&nbsp;isFullyMatched()</pre>
<div class="block">Return whether this model has been fully matched yet. That is, whether it has been
 matched at both the beat level and the sub beat level.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if this model has been fully matched. False otherwise.</dd>
</dl>
</li>
</ul>
<a name="isWrong--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isWrong</h4>
<pre>private&nbsp;boolean&nbsp;isWrong()</pre>
<div class="block">Return whether this model has been designated as wrong yet.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if this model is wrong. False otherwise.</dd>
</dl>
</li>
</ul>
<a name="addMatch-metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMatch</h4>
<pre>public&nbsp;void&nbsp;addMatch(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch.html" title="enum in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch</a>&nbsp;matchType)</pre>
<div class="block">Add the given matchType to this model.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>matchType</code> - The match type we want to add to this model.</dd>
</dl>
</li>
</ul>
<a name="matches-metalign.hierarchy.lpcfg.MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>matches</h4>
<pre>private&nbsp;boolean&nbsp;matches(<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch.html" title="enum in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch</a>&nbsp;matchType)</pre>
<div class="block">Check if this model matches the given match type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>matchType</code> - The match type we want to check our model against.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if our model matches the given match type. False otherwise.</dd>
</dl>
</li>
</ul>
<a name="getSubBeatLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSubBeatLength</h4>
<pre>public&nbsp;int&nbsp;getSubBeatLength()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getSubBeatLength--">HierarchyModelState</a></code></span></div>
<div class="block">Get the number of tatums per sub beat.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getSubBeatLength--">getSubBeatLength</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of tatums per sub beat of this hierarchy.</dd>
</dl>
</li>
</ul>
<a name="getAnacrusis--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnacrusis</h4>
<pre>public&nbsp;int&nbsp;getAnacrusis()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getAnacrusis--">HierarchyModelState</a></code></span></div>
<div class="block">Get the length of the anacrusis, measured in sub beats.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getAnacrusis--">getAnacrusis</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of sub beats which fall before the first downbeat of this hierarchy.</dd>
</dl>
</li>
</ul>
<a name="getBarCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBarCount</h4>
<pre>public&nbsp;int&nbsp;getBarCount()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getBarCount--">HierarchyModelState</a></code></span></div>
<div class="block">Get the number of full bars we have gone through so far.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getBarCount--">getBarCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of full bars we have gone through so far.</dd>
</dl>
</li>
</ul>
<a name="getLocalGrammar--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalGrammar</h4>
<pre>public&nbsp;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfg.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfg</a>&nbsp;getLocalGrammar()</pre>
<div class="block">Get the local grammar of this model.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html#localGrammar"><code>localGrammar</code></a></dd>
</dl>
</li>
</ul>
<a name="getMetricalMeasure--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetricalMeasure</h4>
<pre>public&nbsp;<a href="../../../metalign/hierarchy/Measure.html" title="class in metalign.hierarchy">Measure</a>&nbsp;getMetricalMeasure()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getMetricalMeasure--">HierarchyModelState</a></code></span></div>
<div class="block">Gets the Measure which is contained by this state currently.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#getMetricalMeasure--">getMetricalMeasure</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The measure contained by this state.</dd>
</dl>
</li>
</ul>
<a name="deepCopy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deepCopy</h4>
<pre>public&nbsp;<a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" title="class in metalign.hierarchy.lpcfg">MetricalLpcfgHierarchyModelState</a>&nbsp;deepCopy()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html#deepCopy--">HierarchyModelState</a></code></span></div>
<div class="block">Create a deep copy of this HierarchyModelState.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#deepCopy--">deepCopy</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A deep copy of this HierarchyModelState.</dd>
</dl>
</li>
</ul>
<a name="getScore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScore</h4>
<pre>public&nbsp;double&nbsp;getScore()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/generic/MidiModelState.html#getScore--">MidiModelState</a></code></span></div>
<div class="block">Get the score of this MidiModelState. In general, a higher score reflects
 that a State is more likely given our prior knowledge. The natural ordering
 of MidiModelStates is based on this score value.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/generic/MidiModelState.html#getScore--">getScore</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/generic/MidiModelState.html" title="class in metalign.generic">MidiModelState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The score of this MidiModelState.</dd>
</dl>
</li>
</ul>
<a name="isDuplicateOf-metalign.hierarchy.HierarchyModelState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDuplicateOf</h4>
<pre>public&nbsp;boolean&nbsp;isDuplicateOf(<a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a>&nbsp;state)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html#isDuplicateOf-metalign.hierarchy.HierarchyModelState-">HierarchyModelState</a></code></span></div>
<div class="block">Decide whether the given state is a duplicate of this one.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#isDuplicateOf-metalign.hierarchy.HierarchyModelState-">isDuplicateOf</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - The state we want to check for a duplicate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the states are duplicates. False otherwise.</dd>
</dl>
</li>
</ul>
<a name="compareTo-metalign.generic.MidiModelState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareTo</h4>
<pre>public&nbsp;int&nbsp;compareTo(<a href="../../../metalign/generic/MidiModelState.html" title="class in metalign.generic">MidiModelState</a>&nbsp;other)</pre>
</li>
</ul>
<a name="compareToNoRecurse-metalign.generic.MidiModelState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareToNoRecurse</h4>
<pre>public&nbsp;int&nbsp;compareToNoRecurse(<a href="../../../metalign/generic/MidiModelState.html" title="class in metalign.generic">MidiModelState</a>&nbsp;other)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../metalign/hierarchy/HierarchyModelState.html#compareToNoRecurse-metalign.generic.MidiModelState-">compareToNoRecurse</a></code>&nbsp;in class&nbsp;<code><a href="../../../metalign/hierarchy/HierarchyModelState.html" title="class in metalign.hierarchy">HierarchyModelState</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MetricalLpcfgHierarchyModelState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHead.html" title="class in metalign.hierarchy.lpcfg"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.MetricalLpcfgMatch.html" title="enum in metalign.hierarchy.lpcfg"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?metalign/hierarchy/lpcfg/MetricalLpcfgHierarchyModelState.html" target="_top">Frames</a></li>
<li><a href="MetricalLpcfgHierarchyModelState.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
